<!DOCTYPE html>
<html lang="en">

<head>
	<script type="text/javascript" src="solve.js"></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Riddle</title>
	<link rel="stylesheet" href="styles.css">
	<style>
		p#question {
			text-align: left;
		}
		span.linenumber {
			color: #999;
			font-size: 0.8em;
			margin-right: 10px;
		}
	</style>
</head>

<body>
	<video autoplay muted loop id="myVideo">
		<source src="bg.mp4" type="video/mp4">
	</video>
	<div class="container">
		<h1>Riddle</h1>
		<p id="question"><span class="linenumber">0</span> And thus Caesar said<br />
			<span class="linenumber">1</span> Njdb sftut xjui spzbm hsbdf<br />
			<span class="linenumber">2</span> C igpvng uvct kp c swkgv rnceg<br />
			<span class="linenumber">3</span> Nuxhpho vqliiv wkh ihvwlyh ihdvw<br />
			<span class="linenumber">4</span> Sr Glvmwxqew hec, xlicâ€™vi fieyxc erh fiewx<br />
			<span class="linenumber">5</span> Ymj fsxbjw nx HMWNXYRFX<br />
		</p>
		<input type="text" id="answer" placeholder="Enter your answer here">
		<button id="submit">Submit Answer</button>
		<p id="feedback"></p>
		<a href="index.html" class="back-link">Back to Main Page</a>
	</div>

	<script>
		document.addEventListener('DOMContentLoaded', () => {
			const feedbackEl = document.getElementById('feedback');
			const submitButton = document.getElementById('submit');
			const answerInput = document.getElementById('answer');
			submitButton.addEventListener('click', async () => {
				const userAnswer = answerInput.value.trim();
				
				if (!userAnswer) {
					feedbackEl.textContent = 'Please enter an answer.';
					feedbackEl.style.color = 'red';
					return;
				}
				const result = await send_solve(userAnswer);
				if (result) {
					feedbackEl.textContent = 'Correct! Great job!';
					feedbackEl.style.color = 'green';
				} else {
					feedbackEl.textContent = 'Incorrect. Try again!';
					feedbackEl.style.color = 'red';
				}
			});
		});
	</script>
</body>

</html>
